{"ast":null,"code":"var _jsxFileName = \"D:\\\\Huy\\\\orther\\\\3. RJS301x_1.0-A_VN\\\\Assgnment\\\\Assignment 02 (Starter Code)\\\\src\\\\pages\\\\search\\\\SearchForm.js\";\nimport React from \"react\";\nimport classes from \"./SearchForm.module.css\";\nimport { useState } from \"react\";\nimport MovieList from \"../browse/MovieList \";\nconst SearchForm = () => {\n  // Các state ban đầu gồm nội dung tìm kiếm là roonhx, kết quả tím kiếm là rỗng, có kết quả là false, tìm kiếm chưa là false\n  const [searchContent, setSearchContent] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [isHasResult, setIsHasResult] = useState(true);\n  const [isSearch, setIsSearch] = useState(false);\n  // Validate form nếu ko nhập gì thì disable các button\n  let isSearchValid = true;\n  if (searchContent) {\n    isSearchValid = false;\n  }\n\n  // Hàm lắng nghe sự thay đổi ở ô input\n  const searchInputChangeHandler = e => {\n    setSearchContent(e.target.value);\n  };\n\n  // Hàm reset đặt các state về ban đầu\n  const resetHandler = () => {\n    setIsSearch(false);\n    setIsHasResult(false);\n    setSearchContent(\"\");\n    setSearchResults([]);\n  };\n\n  // Hàm tìm kiếm theo từ khóa đã nhập\n  const searchHandler = async e => {\n    e.preventDefault();\n    const searchDataResponse = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=812f0d2d24a6cb98fc2d989a6b698434&language=en-US&query=${searchContent}`);\n    const searchData = await searchDataResponse.json();\n    // Nếu có kết quả trả về thì set lại state gồm kết quả tìm kiếm là kết quả trả về từ fetch, có kết quả là true, tìm kiếm chauw là true(đã tìm rồi)\n    if (searchData.results.length !== 0) {\n      setIsHasResult(true);\n      setSearchResults(searchData.results);\n      setIsSearch(true);\n    } else {\n      setIsHasResult(false);\n      setIsSearch(true);\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"search-form\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: searchHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search something!!!\",\n    value: searchContent,\n    onChange: searchInputChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: classes.reset,\n    onClick: resetHandler,\n    disabled: isSearchValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, \"RESET\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.search,\n    disabled: isSearchValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"SEARCH\")))), isHasResult && isSearch && /*#__PURE__*/React.createElement(MovieList, {\n    movies: searchResults,\n    type: \"Search Results\",\n    class: \"movie-list-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 41\n    }\n  }), !isHasResult && isSearch && /*#__PURE__*/React.createElement(\"p\", {\n    className: classes[\"result-text\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 41\n    }\n  }, \"No result found...\"));\n};\nexport default SearchForm;","map":{"version":3,"names":["React","classes","useState","MovieList","SearchForm","searchContent","setSearchContent","searchResults","setSearchResults","isHasResult","setIsHasResult","isSearch","setIsSearch","isSearchValid","searchInputChangeHandler","e","target","value","resetHandler","searchHandler","preventDefault","searchDataResponse","fetch","searchData","json","results","length","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","form","onSubmit","type","placeholder","onChange","action","reset","onClick","disabled","search","movies","class"],"sources":["D:/Huy/orther/3. RJS301x_1.0-A_VN/Assgnment/Assignment 02 (Starter Code)/src/pages/search/SearchForm.js"],"sourcesContent":["import React from \"react\";\r\nimport classes from \"./SearchForm.module.css\"\r\nimport { useState } from \"react\";\r\nimport MovieList from \"../browse/MovieList \";\r\nconst SearchForm =()=>{\r\n    // Các state ban đầu gồm nội dung tìm kiếm là roonhx, kết quả tím kiếm là rỗng, có kết quả là false, tìm kiếm chưa là false\r\n    const [searchContent, setSearchContent] =  useState(\"\")\r\n    const [searchResults, setSearchResults] = useState([])\r\n    const [isHasResult, setIsHasResult] = useState(true)\r\n    const [isSearch, setIsSearch] =  useState(false)\r\n    // Validate form nếu ko nhập gì thì disable các button\r\n    let isSearchValid  = true\r\n    if(searchContent) {\r\n        isSearchValid = false\r\n    }\r\n\r\n    // Hàm lắng nghe sự thay đổi ở ô input\r\n    const searchInputChangeHandler = (e) =>{\r\n        setSearchContent(e.target.value)\r\n    }\r\n\r\n    // Hàm reset đặt các state về ban đầu\r\n    const resetHandler = ()=>{\r\n        setIsSearch(false)\r\n        setIsHasResult(false)\r\n        setSearchContent(\"\")\r\n        setSearchResults([])\r\n    }\r\n\r\n\r\n    // Hàm tìm kiếm theo từ khóa đã nhập\r\n    const searchHandler = async (e)=>{\r\n        e.preventDefault()\r\n        const searchDataResponse = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=812f0d2d24a6cb98fc2d989a6b698434&language=en-US&query=${searchContent}`)\r\n        const searchData = await searchDataResponse.json()\r\n        // Nếu có kết quả trả về thì set lại state gồm kết quả tìm kiếm là kết quả trả về từ fetch, có kết quả là true, tìm kiếm chauw là true(đã tìm rồi)\r\n        if(searchData.results.length !==0) {\r\n            setIsHasResult(true)\r\n            setSearchResults(searchData.results)\r\n            setIsSearch(true)\r\n            \r\n        } else {\r\n            setIsHasResult(false)\r\n            setIsSearch(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes[\"search-form\"]}>\r\n                <form className={classes.form} onSubmit = {searchHandler}>\r\n                    <input type=\"text\" placeholder=\"Search something!!!\" value={searchContent} onChange = {searchInputChangeHandler}/>\r\n                    <div className={classes.action}>\r\n                        <button type=\"button\" className={classes.reset} onClick ={resetHandler} disabled = {isSearchValid}>RESET</button>\r\n                        <button className={classes.search} disabled = {isSearchValid}>SEARCH</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            {/* Nếu có kết quả và đã tìm kieesmm thì render ra giao diện */}\r\n            {isHasResult && isSearch && <MovieList movies ={searchResults} type = \"Search Results\" class = \"movie-list-search\"/>}\r\n            {/* Nếu ko có kết quả và đã tìm kiếm rồi thì render ra thông báo là ko tìm thấy gì */}\r\n            {!isHasResult && isSearch &&<p className={classes[\"result-text\"]}>No result found...</p> }\r\n        </>\r\n       \r\n    )\r\n}\r\nexport default SearchForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}